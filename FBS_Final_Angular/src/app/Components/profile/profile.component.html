<app-navbar></app-navbar>

<section class="vh-100" style="background-image: url('/assets/images/flightblurbg.webp');">
  <div class="container py-5 h-80">
    <div class="row d-flex justify-content-center align-items-center h-100">
      <h1>My Bookings</h1>

      <div *ngIf="bookings.length === 0">
        <p>No bookings found.</p>
      </div>

      <table *ngIf="bookings.length > 0" class="table table-striped table-bordered">
        <thead class="table-white">
          <tr>
            <th>Booking ID</th>
            <th>Passenger Name</th>
            <th>Email</th>
            <th>Phone Number</th>
            <th>Age</th>
            <th>Gender</th>
            <th>Cabin Class</th>
            <th>No. of Tickets</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let booking of bookings">
            <td>{{ booking.id }}</td>
            <td>{{ booking.passengerName }}</td>
            <td>{{ booking.email }}</td>
            <td>{{ booking.phoneNumber }}</td>
            <td>{{ booking.age }}</td>
            <td>{{ booking.gender }}</td>
            <td>{{ booking.cabinClass }}</td>
            <td>{{ booking.noOfTicket }}</td>
            <td>
              <button (click)="cancelBooking(booking.id)" class="btn btn-danger">Cancel</button>
            </td>
          </tr>
        </tbody>
      </table>

      <p class="error-message" *ngIf="errorMessage">{{ errorMessage }}</p>
    </div>
  </div>
</section>
